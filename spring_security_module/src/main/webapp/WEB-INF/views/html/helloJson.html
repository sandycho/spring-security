<!DOCTYPE html>
<html>
<head>
<title>Login Page</title>
<script src="/spring_security_module/static/js/jquery-1.11.1.min.js"
	language="javascript" type="text/javascript"></script>
</head>
<body>
	<h3>Login with Username and Password</h3>
	<form id="f">
		<table>
			<tbody>
				<tr>
					<td>User:</td>
					<td><input type="text" name="username" value=""/></td>
				</tr>
				<tr>
					<td>Password:</td>
					<td><input type="password" name="password"/></td>
				</tr>
				<tr>
					<td><input type="checkbox" name="remember-me"/></td>
					<td>Remember me on this computer.</td>
				</tr>
				<tr>
					<td colspan="2"><input id="btn" name="submit" type="submit"
						value="Login"/></td>
				</tr>
<!-- 				<input name="_csrf" type="hidden" -->
<!-- 					value="b48dd6fa-f4b8-4d51-bd0c-0c29c13f93b4"/> -->
			</tbody>
		</table>
	</form>
	<script type="text/javascript">
	var dataJSON;
	
	function sendDataLogin(){
		dataJSON = $('#f').serializeFromJSON();
		$.ajax({
			type: 'POST',
			dataType: 'json',
			url: '/spring_security_module/seeJson',
			data: dataJSON,
			success: function(result){
				json = result;
				if (json.resultado == 'ok'){
					window.location = json.url
				}else{
					alert("mal...");
				}
			},
			aerror: function(xhr, ajaxOptions, thrownError){
				alert("...en fin");
			}
		});
	}
	
	$(function(){
		$("body").on("click", "#btn", function(){sendDataLogin();});
	});
	</script>
</body>
</html>